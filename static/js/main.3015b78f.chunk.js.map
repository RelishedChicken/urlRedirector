{"version":3,"sources":["components/Editor.js","components/Redir.js","route.js","index.js"],"names":["Editor","onSubmit","this","props","update","type","name","value","url","React","Component","Redirector","console","log","window","location","UrlRedirect","state","redirectable","updateUrl","e","preventDefault","target","updateDatabase","data","fetch","then","response","json","jsonData","url_value","setState","catch","error","basename","path","Redir","readFromDatabase","ReactDOM","render","$"],"mappings":"qhBAqBeA,G,6KAhBX,OACE,qCACE,wCACA,sBAAMC,SAAUC,KAAKC,MAAMC,OAA3B,SACE,yCACO,IACL,uBAAOC,KAAK,OAAOC,KAAK,MAAMC,MAAOL,KAAKC,MAAMK,MAChD,uBAAOH,KAAK,SAASE,MAAM,uB,GAVlBE,IAAMC,YCgBZC,E,mLAZVC,QAAQC,IAAIX,KAAKC,MAAMK,KACxBM,OAAOC,SAAWb,KAAKC,MAAMK,M,+BAI7B,OACE,sD,GATmBC,IAAMC,WCkEhBM,E,4MAvDbC,MAAQ,CACNT,IAAK,GACLU,cAAc,G,EAGhBC,UAAY,SAACC,GACXA,EAAEC,iBACFT,QAAQC,IAAIO,EAAEE,OAAO,GAAGf,OACxB,EAAKgB,eAAeH,EAAEE,OAAO,GAAGf,Q,6DAGnBiB,GAEEC,MAAM,yGAAyGD,K,yCAG7G,IAAD,OAEhBC,MAAM,mGACHC,MAAK,SAAAC,GAAQ,OAAEA,EAASC,UACxBF,MAAK,SAACG,GACLjB,QAAQC,IAAIgB,EAAS,GAAGC,WACxB,EAAKC,SAAS,CACZvB,IAAKqB,EAAS,GAAGC,UACjBZ,cAAc,OAGjBc,OAAM,SAACC,GACNrB,QAAQC,IAAIoB,Q,+BAKhB,OAAG/B,KAAKe,MAAMC,aAEV,8BACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgB,SAAS,oBAAoBC,KAAK,IAAzC,SACE,cAACC,EAAD,CAAY5B,IAAKN,KAAKe,MAAMT,QAE9B,cAAC,IAAD,CAAO0B,SAAS,oBAAoBC,KAAK,QAAzC,SACE,cAAC,EAAD,CAAQ/B,OAAQF,KAAKiB,sBAO/BjB,KAAKmC,mBACE,iD,GApDa5B,IAAMC,WCPhC4B,IAASC,OAAO,cAAC,EAAD,IAAiBC,IAAE,SAAS,M","file":"static/js/main.3015b78f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Editor extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <>\r\n        <h1>Editor</h1>\r\n        <form onSubmit={this.props.update}>\r\n          <label>\r\n            URL:{\" \"}\r\n            <input type=\"text\" name=\"url\" value={this.props.url}/>\r\n            <input type=\"submit\" value=\"Update\" />\r\n          </label>\r\n        </form>\r\n      </>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Editor;\r\n","import React from \"react\";\r\nimport { Route } from 'react-router-dom'\r\n\r\nclass Redirector extends React.Component{\r\n\r\n  componentWillMount(){\r\n    {console.log(this.props.url)}\r\n    window.location = this.props.url;\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <h1>Redirecting you!</h1>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Redirector;\r\n","import React from \"react\";\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport Mysql from \"mysql\";\r\n\r\n//components\r\nimport Editor from \"./components/Editor\";\r\nimport Redirector from \"./components/Redir\";\r\n\r\nclass UrlRedirect extends React.Component{\r\n\r\n  state = {\r\n    url: \"\",\r\n    redirectable: false\r\n  }\r\n\r\n  updateUrl = (e) =>{\r\n    e.preventDefault();\r\n    console.log(e.target[0].value);\r\n    this.updateDatabase(e.target[0].value);\r\n  }\r\n\r\n  updateDatabase(data){\r\n    //https://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?URL=https://www.bing.com\r\n    var response = fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?URL=\"+data);\r\n  }\r\n\r\n  readFromDatabase(){\r\n    //https://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls\r\n    fetch(\"https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php\")\r\n      .then(response=>response.json())\r\n      .then((jsonData) => {\r\n        console.log(jsonData[0].url_value);\r\n        this.setState({\r\n          url: jsonData[0].url_value,\r\n          redirectable: true\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  render(){\r\n    if(this.state.redirectable){\r\n      return(\r\n        <div>\r\n          <Router>\r\n            <Switch>\r\n              <Route basename=\"/urlRedirector/#/\" path=\"/\" >\r\n                <Redirector url={this.state.url} />\r\n              </Route>\r\n              <Route basename=\"/urlRedirector/#/\" path=\"/edit\" >\r\n                <Editor update={this.updateUrl} />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n      )\r\n    }else{\r\n      this.readFromDatabase();\r\n      return(<h1>Loading...</h1>);\r\n    }\r\n  }\r\n}\r\n\r\nexport default UrlRedirect\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport $ from \"jquery\";\r\nimport UrlRedirect from \"./route.js\"\r\n\r\nReactDOM.render(<UrlRedirect />, $(\"#root\")[0]);\r\n"],"sourceRoot":""}