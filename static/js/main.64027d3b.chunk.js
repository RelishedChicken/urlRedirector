(this["webpackJsonpurl-redirect"]=this["webpackJsonpurl-redirect"]||[]).push([[0],{154:function(t,e){},156:function(t,e){},166:function(t,e){},168:function(t,e){},194:function(t,e){},196:function(t,e){},197:function(t,e){},203:function(t,e){},205:function(t,e){},223:function(t,e){},225:function(t,e){},237:function(t,e){},240:function(t,e){},288:function(t,e){},290:function(t,e){},304:function(t,e,n){"use strict";n.r(e);var c=n(4),r=n(0),a=n.n(r),u=n(143),i=n.n(u),o=n(144),s=n.n(o),l=n(32),p=n(33),h=n(35),j=n(34),b=n(75),d=n(5),f=(n(78),function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Editor"}),Object(c.jsx)("form",{onSubmit:this.props.update,children:Object(c.jsxs)("label",{children:["URL:"," ",Object(c.jsx)("input",{type:"text",name:"url",value:this.props.url}),Object(c.jsx)("input",{type:"submit",value:"Update"})]})})]})}}]),n}(a.a.Component)),O=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentWillMount",value:function(){console.log(this.props.url),window.location=this.props.url}},{key:"render",value:function(){return Object(c.jsx)("h1",{children:"Redirecting you!"})}}]),n}(a.a.Component),v=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={url:"",redirectable:!1},t.updateUrl=function(e){e.preventDefault(),console.log(e.target[0].value),t.updateDatabase(e.target[0].value)},t}return Object(p.a)(n,[{key:"updateDatabase",value:function(t){fetch("https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/updateUrl.php?URL="+t)}},{key:"readFromDatabase",value:function(){var t=this;fetch("https://cors-anywhere.herokuapp.com/http://kunet.kingston.ac.uk/k1625608/updateUrls/getUrls.php").then((function(t){return t.json()})).then((function(e){console.log(e[0].url_value),t.setState({url:e[0].url_value,redirectable:!0})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return this.state.redirectable?Object(c.jsx)("div",{children:Object(c.jsx)(b.a,{children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",children:Object(c.jsx)(O,{url:this.state.url})}),Object(c.jsx)(d.a,{exact:!0,path:"/edit",children:Object(c.jsx)(f,{update:this.updateUrl})})]})})}):(this.readFromDatabase(),Object(c.jsx)("h1",{children:"Loading link"}))}}]),n}(a.a.Component);i.a.render(Object(c.jsx)(v,{}),s()("#root")[0])}},[[304,1,2]]]);
//# sourceMappingURL=main.64027d3b.chunk.js.map